<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4 weeks project</title>
    <link rel="stylesheet" href="style.css">
    <script async src="https://docs.opencv.org/master/opencv.js" onload="onOpenCvReady();" onerror="onOpenCvError();"></script>
</head>
<body>
    <h3>4 weeks project</h3>
    <form id="upload-form">
        <input type="file" id="image-upload" accept="image/*">
        <button type="submit">Upload</button>
    </form>
    <div id="result">
        <canvas id="canvasOutput"></canvas>
    </div>
    <div id="status"></div>
    
    <!-- OpenAI API 호출 버튼과 결과 영역 추가 -->
    <div>
        <button id="fetchButton">지피티 응답 받기</button>
        <p id="apiResponse"></p>
    </div>

    <script src="app.js"></script>
    <script>
        document.getElementById('fetchButton').addEventListener('click', async () => {
            try {
                ///openai 경로로 HTTP GET 요청,이 요청은 서버 측에서 처리되어 OpenAI API의 응답을 반환합니다.
                const response = await fetch('/openai');
                const data = await response.json(); 
                document.getElementById('apiResponse').innerText = data.message;
            } catch (error) {
                console.error('Error fetching API response:', error);
                document.getElementById('apiResponse').innerText = 'Error fetching API response';
            }
        });
    </script>
</body>
</html>
